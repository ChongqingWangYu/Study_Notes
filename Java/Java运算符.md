# Java运算符

## 位运算符

在此之前，应该知道这些：

1. 计算机中都是以**补码**形式进行数值计算，所以我们接下来的每次运算都应该转换为**补码**。
2. 因为在Java中不同基本类型的所占位数不同，所以接下来都用`byte`类型表示（2个字节，8位）。
3. 正数的原码、反码、补码相同，负数的反码为原码除符号位（第一位为符号位）以外，其它位取反，负数的补码为反码+1。

下表列出了位运算符的基本运算：

| 操作符 | 描述                                                         |
| :----- | :----------------------------------------------------------- |
| &      | 按位与，如果（补码）相对应位都是1，则结果为1，否则为0。      |
| \|     | 按位或，如果（补码）相对应位都是0，则结果为0，否则为1。      |
| ^      | 按位异或，如果（补码）相对应位值相同，则结果为0，否则为1。   |
| ~      | 按位取反运算，翻转操作数（补码）的每一位，即0变成1，1变成0。 |
| <<     |                                                              |
| \>>    |                                                              |
| \>>>   |                                                              |

### 按位与运算符(&)

> 按位与，如果相对应位（补码）都是1，则结果为1，否则为0。

正数&正数：(正数的原码、反码、补码一致)

3的补码为：0000 0011，7的补码为：0000 0111，按位与操作后为：0000 0011，转为十进制为：3。

正数&负数：

-3的二进制（原码）为：1000 0011，补码为：1111 1101，7的补码为：0000 0111，按位与操作后为：0000 0101，符号位为0，是正数，直接转为十进制为：5。

负数&负数：

-3的补码为：1111 1101，-7的补码为：1111 1001，按位与操作后为：1111 1001，符号位为1，是负数，转为反码为：1111 1000，原码为：1000 0111，转为十进制为：-7。

```java
byte num1=3;
byte num2=7;
byte num3=-3;
byte num4=-7;
System.out.println( num1 & num2 ); /* 3 */
System.out.println( num3 & num2 );/* 5 */
System.out.println( num3 & num4 );/* -7 */
```

### 按位或运算符(|)

> 按位或，如果（补码）相对应位都是0，则结果为0，否则为1。

正数|正数：(正数的原码、反码、补码一致)

3的补码为：0000 0011，7的补码为：0000 0111，按位或操作后为：0000 0111，符号位为0，是正数，直接转为十进制为：7。

正数|负数：

-3的二进制（原码）为：1000 0011，补码为：1111 1101，7的补码为：0000 0111，按位或操作后为：1111 1111，符号位为1，是负数，将1111 1111（补码）转为原码为：1000 0001，转为十进制为：-1。

负数|负数：

-3的补码为：1111 1101，-7的补码为：1111 1001，按位或操作后为：1111 1101，符号位为1，是负数，转为原码为：1000 0011，转为十进制为：-3。

```java
byte num1=3;
byte num2=7;
byte num3=-3;
byte num4=-7;
System.out.println( num1 | num2 ); /* 7 */
System.out.println( num3 | num2 );/* -1 */
System.out.println( num3 | num4 );/* -3 */
```

### 按位异或运算符(^)

> 按位异或，如果（补码）相对应位值相同，则结果为0，否则为1。

正数^正数：(正数的原码、反码、补码一致)

3的补码为：0000 0011，7的补码为：0000 0111，按位异或操作后为：0000 0100，符号位为0，是正数，直接转为十进制为：4。

正数^负数：

-3的二进制（原码）为：1000 0011，补码为：1111 1101，7的补码为：0000 0111，按位异或操作后为：1111 1010，符号位为1，是负数，将1111 1010（补码）转为原码为：1000 0110，转为十进制为：-6。

负数^负数：

-3的补码为：1111 1101，-7的补码为：1111 1001，按位异或操作后为：0000 0100，符号位为0，是正数，转为十进制为：4。

```java
byte num1=3;
byte num2=7;
byte num3=-3;
byte num4=-7;
System.out.println( num1 ^ num2 ); /* 4 */
System.out.println( num3 ^ num2 );/* -6 */
System.out.println( num3 ^ num4 );/* 4 */
```

### 按位非运算符(~)

> 按位取反运算，翻转操作数（补码）的每一位，即0变成1，1变成0。

正数：

6的原码为：0000 0110 ，因为正数的原码、反码、补码都一样，所以补码也为：0000 0110 ，每一位取反后得到：1111 1001

再将这串二进制当作补码转换为反码：1111  1000，再将反码转为原码：1000 0111，最后转为十进制输出：-7。

负数：

-6的原码为：1000 0110，反码：1111 1001，补码：1111 1010，每一位取反后得到：0000 0101

再将这串二进制当作补码，由于符号位为0（正数）,所以原码为：0000 0101，最后转为十进制输出：5。

```java
byte num1 = 6;
byte num2 = -6;
System.out.println("~num1："+ ~num1 );  /* ~num1：-7*/
System.out.println( "~num2："+ ~num2 ); /* ~num2：5*/
```

